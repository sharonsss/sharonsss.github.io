<!DOCTYPE html>
<html lang="en">





<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/apple-touch-icon.png">
  <link rel="icon" type="image/png" href="/img/avatar.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="description" content="">
  <meta name="author" content="San San">
  <meta name="keywords" content="">
  <title>【歌单推荐】Node.js + Express 搭建后端服务器 - Sansan&#39;s Blog</title>

  <link rel="stylesheet" href="/lib/font-awesome/css/all.min.css"  >
<link rel="stylesheet" href="/lib/bootstrap/css/bootstrap.min.css"  >
<link rel="stylesheet" href="/lib/mdbootstrap/css/mdb.min.css"  >
<link rel="stylesheet" href="/lib/github-markdown/github-markdown.min.css"  >

<link rel="stylesheet" href="//at.alicdn.com/t/font_1067060_qzomjdt8bmp.css">



  <link rel="stylesheet" href="/lib/prettify/tomorrow-night-eighties.min.css"  >

<link rel="stylesheet" href="/css/main.css"  >


  <link rel="stylesheet" href="/lib/fancybox/jquery.fancybox.min.css"  >


<meta name="generator" content="Hexo 4.2.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>Sansan's Blog</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/">Home</a>
          </li>
        
          
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/archives/">Archives</a>
          </li>
        
          
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/categories/">Categories</a>
          </li>
        
          
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/tags/">Tags</a>
          </li>
        
          
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/about/">About</a>
          </li>
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="view intro-2" id="background"
         style="background: url('/img/christopher1.jpg')no-repeat center center;
           background-size: cover;
           background-attachment: fixed;">
      <div class="full-bg-img">
        <div class="mask rgba-black-light flex-center">
          <div class="container text-center white-text fadeInUp">
            <span class="h2" id="subtitle">
              
            </span>

            
              <br>
              
                <p class="mt-3">
                  <i class="fas fa-calendar-alt" aria-hidden="true"></i>&nbsp;
                  Thursday, November 12th 2020, 2:08 pm
                </p>
              

              <p>
                
                  
                  &nbsp;<i class="far fa-chart-bar"></i>
                  <span class="post-count">
                    1.9k 字
                  </span>&nbsp;
                

                
                  
                  &nbsp;<i class="far fa-clock"></i>
                  <span class="post-count">
                      8 min
                  </span>&nbsp;
                

                
                  <!-- 不蒜子统计文章PV -->
                  
                  &nbsp;<i class="far fa-eye" aria-hidden="true"></i>&nbsp;
                  <span id="busuanzi_container_page_pv">
                    <span id="busuanzi_value_page_pv"></span> times
                  </span>&nbsp;
                
              </p>
            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid">
  <div class="row">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-md">
      <div class="py-5 z-depth-3" id="board">
        <div class="post-content mx-auto" id="post">
          <div class="markdown-body">
            <blockquote>
<p>从零开始，利用 Vue、Node.js、Express、MySQL 实现前后端分离开发。<br>花费半天时间搭建完成，小网站有了崛起的底气。</p>
</blockquote>
<a id="more"></a>

<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>经过第一步的<a href="https://sharonsss.github.io/2020/11/11/1111/" target="_blank" rel="noopener">数据准备</a>，设置好本地数据库名称与端口之后，便将数据整体导入了 MySQL。数据库方面的准备就做好了。</p>
<p>第二步就是搭建<strong>后端服务器</strong>了，用 <strong>Node.js+Express</strong> 来实现。</p>
<ul>
<li><p>目标：后端服务器能够成功启动，成功连接数据库，并能在前端成功获取数据</p>
</li>
<li><p>工作时长：0.5 天</p>
</li>
</ul>
<h2 id="利用-Vue-CLI，创建基于-Webpack-模版的一个基本项目结构"><a href="#利用-Vue-CLI，创建基于-Webpack-模版的一个基本项目结构" class="headerlink" title="利用 Vue CLI，创建基于 Webpack 模版的一个基本项目结构"></a>利用 Vue CLI，创建基于 Webpack 模版的一个基本项目结构</h2><p>如何使用 Vue-cli 创建新项目在之前的文章里有写，这里直接记录下操作：</p>
<pre><code>使用@vue/cli之后，需要全局安装cli-init
npm install -g @vue/cli-init

再运行
vue init webpack appname</code></pre><p>回车之后，选择默认的项目信息。可以选择自动安装依赖，这样就不用自己再手动安装。</p>
<p>安装 <code>vue-resource</code>：</p>
<pre><code>npm install vue-resource --save</code></pre><p>启动项目，按照 <code>README</code> 说明，执行：</p>
<pre><code>cd appname
npm run dev</code></pre><p>看到初始化的页面如下，默认端口为 <code>8080</code>：</p>
<p><img src="/img/vue_init.png" srcset="/img/loading.gif" alt="vue初始化"></p>
<h2 id="Node-js-搭建后端服务器"><a href="#Node-js-搭建后端服务器" class="headerlink" title="Node.js 搭建后端服务器"></a>Node.js 搭建后端服务器</h2><h3 id="1-新建-server-文件夹"><a href="#1-新建-server-文件夹" class="headerlink" title="1. 新建 server 文件夹"></a>1. 新建 server 文件夹</h3><p>首先，在刚刚创建的项目根目录下，新建一个<code>server</code>文件夹，作为后端服务器的路径。</p>
<p><img src="/img/server_folder.jpg" srcset="/img/loading.gif" alt="server"></p>
<p><code>server</code> 文件夹内的目录结构如下：</p>
<pre><code>|-- server
    |-- api
        |-- userApi.js
    |-- utils
        |-- DBHelper.js
    |-- index.js
    |-- sqlMap.js
    |-- package.json</code></pre><h3 id="2-初始化-package-json"><a href="#2-初始化-package-json" class="headerlink" title="2. 初始化 package.json"></a>2. 初始化 package.json</h3><p>在 <code>server</code> 根目录下运行：</p>
<pre><code>npm init -y</code></pre><p>生成默认的 <code>package.json</code> 文件。</p>
<h3 id="3-配置-MySQL-数据库的连接文件"><a href="#3-配置-MySQL-数据库的连接文件" class="headerlink" title="3. 配置 MySQL 数据库的连接文件"></a>3. 配置 MySQL 数据库的连接文件</h3><ul>
<li><p>utils/DBHelper.js –&gt; 进行数据库连接的基本配置</p>
</li>
<li><p>sqlMap.js –&gt; 配置 MySQL 语句，根据实际需要来配置</p>
</li>
</ul>
<p>首先，<code>DBHelper.js</code> 里设置好数据库的访问端口、用户名、密码等信息：</p>
<pre><code class="js">// connect to mysql
const mysql = require(&quot;mysql&quot;);

class DBHelper {
  // get connection
  getConn() {
    let conn = mysql.createConnection({
      // basic info (local DB)
      host: &quot;127.0.0.1&quot;, // IP address
      port: &quot;3306&quot;,
      user: &quot;xxx&quot;,
      password: &quot;xxx&quot;,
      database: &quot;databasename&quot;, // your DB name
    });
    conn.connect();
    return conn;
  }
}

module.exports = DBHelper;</code></pre>
<p>然后，<code>sqlMap.js</code> 里写好 SQL 语句，这样 Api 可以直接调用：</p>
<pre><code class="js">// sql query
var sqlMap = {
  songslist: {
    select: &#39;select * from songslist where artist like &quot;%&quot;?&quot;%&quot;&#39;,
  },
};

module.exports = sqlMap;</code></pre>
<p><code>%</code> 表示任意 0 个或多个字符，可匹配任意类型和长度的字符，如果是中文，使用两个 <code>%</code> 表示（<code>%%</code>）。</p>
<p>上面语句中的 <code>&quot;%&quot;?&quot;%&quot;</code>，可匹配任意字符，即使只输入一个字符，适用于后面需要查询的动作。</p>
<h3 id="4-配置-Api-文件"><a href="#4-配置-Api-文件" class="headerlink" title="4. 配置 Api 文件"></a>4. 配置 Api 文件</h3><ul>
<li>api/userApi.js</li>
</ul>
<p>Api 文件里是和数据库连接的各个动作的接口。</p>
<p><code>sqlMap.js</code> 文件里，我只写了一个查询的动作，因此相应的接口也就是一个。（因为暂时不涉及到用户添加的动作，暂时不记录这部分，如果后面需要再增加。）</p>
<pre><code class="js">const express = require(&quot;express&quot;);
const router = express.Router();

const DBHelper = require(&quot;../utils/DBHelper&quot;);
const sql = require(&quot;../sqlMap&quot;);

router.post(&quot;/selectSong&quot;, (req, res) =&gt; {
  // 获取 sql select 语句
  let sqlStr = sql.songslist.select;
  let params = req.body;
  let conn = new DBHelper().getConn();
  // query 获取数据
  conn.query(sqlStr, [params.artist], (err, result) =&gt; {
    if (err) {
      res.json(err);
    } else {
      res.json(result);
    }
  });
  conn.end();
});

module.exports = router;</code></pre>
<p>如果是多个 sql 语句，就分别写多个 <code>query</code> 请求，把每个动作分开。</p>
<h3 id="5-配置服务器入口文件-index-js"><a href="#5-配置服务器入口文件-index-js" class="headerlink" title="5. 配置服务器入口文件 index.js"></a>5. 配置服务器入口文件 index.js</h3><p><code>server</code> 根目录下的 <code>index.js</code> 文件，是后端服务器的入口文件。</p>
<p>在这里设置后端 Api 路由，以及监听的端口：</p>
<pre><code class="js">// Node 后端端服务器
const http = require(&quot;http&quot;);
const bodyParser = require(&quot;body-parser&quot;);
const express = require(&quot;express&quot;);
const userApi = require(&quot;./api/userApi&quot;); // Api路径

let app = express();
let server = http.createServer(app);

app.use(bodyParser.json());
app.use(
  bodyParser.urlencoded({
    extended: false,
  })
);

// 解决 Access-Control-Allow-Origin 跨域问题
app.all(&quot;*&quot;, function (req, res, next) {
  res.header(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);
  res.header(&quot;Access-Control-Allow-Headers&quot;, &quot;X-Requested-With,Content-Type&quot;);
  res.header(&quot;Access-Control-Allow-Methods&quot;, &quot;PUT,POST,GET,DELETE,OPTIONS&quot;);
  next();
});

// 后端API路由
app.use(&quot;/api/songslist&quot;, userApi);

// 启动监听
server.listen(8888, () =&gt; {
  console.log(&quot;Success! PORT: 8888&quot;);
});</code></pre>
<p>设置后端服务器的端口为 <code>8888</code>。</p>
<h3 id="6-启动后端服务器"><a href="#6-启动后端服务器" class="headerlink" title="6. 启动后端服务器"></a>6. 启动后端服务器</h3><ol>
<li>在项目根目录下安装依赖：</li>
</ol>
<pre><code>npm install express mysql body-parser</code></pre><ol start="2">
<li>在 <code>server</code> 文件夹下执行命令，启动服务器：</li>
</ol>
<pre><code>node index.js
or
node index</code></pre><p>服务器启动成功后，看到提示信息，说明启动成功啦！</p>
<p><img src="/img/start.png" srcset="/img/loading.gif" alt="启动"></p>
<h2 id="Vue-前端简单测试，获取数据"><a href="#Vue-前端简单测试，获取数据" class="headerlink" title="Vue 前端简单测试，获取数据"></a>Vue 前端简单测试，获取数据</h2><h3 id="1-基础页面"><a href="#1-基础页面" class="headerlink" title="1. 基础页面"></a>1. 基础页面</h3><p>因为这一步主要测试能否成功从数据库获取数据，前端的页面直接在 <code>HelloWorld.vue</code>组建中修改一下。</p>
<p>注册一个 <code>selectSong</code> 点击事件，用户输入的信息注册为 <code>keywords</code>，点击按钮即可查询返回相应的信息。</p>
<p>代码如下：</p>
<pre><code class="js">&lt;template&gt;
  &lt;div class=&quot;hello&quot;&gt;
    &lt;h1&gt;{{ msg }}&lt;/h1&gt;
    &lt;form action=&quot;&quot;&gt;
      &lt;input type=&quot;text&quot; v-model=&quot;keywords&quot; placeholder=&quot;输入artist&quot; /&gt;
      &lt;button type=&quot;button&quot; @click=&quot;selectSong&quot;&gt;查询&lt;/button&gt;
      &lt;h2&gt;{{ name }}&lt;/h2&gt;
    &lt;/form&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  name: &quot;HelloWorld&quot;,
  data() {
    return {
      msg: &quot;Welcome to Your Vue.js App&quot;,
      keywords: &quot;&quot;,
      name: &quot;&quot;,
    };
  },
  methods: {
    // select song event
    selectSong() {

        // 输入为 artist
      let artist = this.keywords;
      this.axios
        .post(&quot;/api/songslist/selectSong&quot;, {
          artist,
        })
        .then((res) =&gt; {
          let data = res.data[0];     // 测试只取第一组数据
          // 输出artist对应的歌曲名称
          this.name = data.song_name;
        })
        .catch((err) =&gt; {
          console.log(err);
        });
    },
  },
};
&lt;/script&gt;</code></pre>
<h3 id="2-vue-cli-引入-axios-以及跨域使用"><a href="#2-vue-cli-引入-axios-以及跨域使用" class="headerlink" title="2. vue-cli 引入 axios 以及跨域使用"></a>2. vue-cli 引入 axios 以及跨域使用</h3><p>代码中使用了 axios，首先需要安装并引入 axios。</p>
<ol>
<li>在根目录下安装 <code>axios</code> 和 <code>vue-axios</code></li>
</ol>
<pre><code>npm install axios
npm install vue-axios</code></pre><ol start="2">
<li>在 <code>main.js</code> 文件中导入 <code>axios</code> 和 <code>vue-axios</code>，并改写原型链</li>
</ol>
<pre><code class="js">import axios from &quot;axios&quot;;
import VueAxios from &quot;vue-axios&quot;;

Vue.use(VueAxios, axios);

// 改写原型链
Vue.prototype.$axios = axios;</code></pre>
<p>这样，<code>axios</code> 就可以正常使用了，注意在 Vue 代码中，使用 <code>axios</code> 时前面要加<code>this</code>：</p>
<pre><code>this.axios.post(&#39;&#39;, {})</code></pre><h3 id="3-客户端（Vue-前端）和后端服务器之间的跨域问题"><a href="#3-客户端（Vue-前端）和后端服务器之间的跨域问题" class="headerlink" title="3. 客户端（Vue 前端）和后端服务器之间的跨域问题"></a>3. 客户端（Vue 前端）和后端服务器之间的跨域问题</h3><p>解决了 <code>axios</code> 的引用，启动客户端之后，发现本地代理的跨域问题。</p>
<p>在本地 localhost 访问本地服务器的地址<a href="http://127.0.0.1:8888/" target="_blank" rel="noopener">http://127.0.0.1:8888/</a>是要跨域的，浏览器的安全策略，会报错。</p>
<p>需要配置一下 <code>config</code> 文件夹中的 <code>index.js</code> 文件：<code>config/index.js --&gt; proxyTable</code></p>
<pre><code class="js">dev: {
    // 加入以下
    proxyTable: {
      &#39;/api&#39;: {
        target: &#39;http://127.0.0.1:8888/&#39;,//设置调用的接口域名和端口号 别忘了加http
        changeOrigin: true,//如果需要跨域
        pathRewrite: {
          &#39;^/api&#39;: &#39;/api&#39;
        }
      }
    },</code></pre>
<h3 id="4-Access-Control-Allow-Origin-跨域问题"><a href="#4-Access-Control-Allow-Origin-跨域问题" class="headerlink" title="4. Access-Control-Allow-Origin 跨域问题"></a>4. Access-Control-Allow-Origin 跨域问题</h3><p>除了本地代理跨域问题，启动客户端时发现还产生了 <code>Access-Control-Allow-Origin</code> 跨域问题。</p>
<p>这是因为 <code>http</code> 请求头部没有配置允许跨域，需要在后端服务器的 <code>index.js</code> 文件里加入如下代码：</p>
<pre><code class="js">// 解决 Access-Control-Allow-Origin 跨域问题
app.all(&quot;*&quot;, function (req, res, next) {
  res.header(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);
  res.header(&quot;Access-Control-Allow-Headers&quot;, &quot;X-Requested-With,Content-Type&quot;);
  res.header(&quot;Access-Control-Allow-Methods&quot;, &quot;PUT,POST,GET,DELETE,OPTIONS&quot;);
  next();
});</code></pre>
<p>好了，重新启动服务器，然后启动客户端。</p>
<p>输入一个歌手的名字，可以看到查询的结果。</p>
<p><strong>前后端服务连接成功！</strong></p>
<p><img src="/img/success.png" srcset="/img/loading.gif" alt="s"></p>
<p><strong>撒花！</strong> 🎉🎉🎉</p>
<hr>
<p><strong>参考来源：</strong></p>
<ul>
<li><em><a href="https://blog.csdn.net/AiHuanhuan110/article/details/90674744" target="_blank" rel="noopener">【全栈初体验】Vue+Node+MySQL 实现前后端分离开发</a></em></li>
<li><em><a href="https://blog.csdn.net/weixin_42003850/article/details/100511566" target="_blank" rel="noopener">实战 vue+mySql 链接数据库并操作</a></em></li>
<li><em><a href="https://www.jianshu.com/p/27b37a8cd84b" target="_blank" rel="noopener">vue-cli 引入 axios</a></em></li>
<li><em><a href="https://www.jianshu.com/p/e36956dc78b8" target="_blank" rel="noopener">vue-cli 引入 axios 及跨域使用</a></em></li>
<li><em><a href="https://blog.csdn.net/sps900608/article/details/79599121" target="_blank" rel="noopener">使用 axios 解决‘Access-Control-Allow-Origin’跨域</a></em></li>
</ul>

            <hr>
          </div>
          <br>
          <div>
            <p>
            
              <span>
                <i class="iconfont icon-inbox"></i>
                
                  <a class="hover-with-bg" href="/categories/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91">后端开发</a>
                  &nbsp;
                
              </span>&nbsp;&nbsp;
            
            
              <span>
                <i class="iconfont icon-tag"></i>
                
                  <a class="hover-with-bg" href="/tags/Vue">Vue</a>
                
                  <a class="hover-with-bg" href="/tags/MySQL">MySQL</a>
                
                  <a class="hover-with-bg" href="/tags/Node-js">Node.js</a>
                
              </span>
            
            </p>
            
              <p class="note note-warning">本博客所有文章除特别声明外，均采用 <a href="https://zh.wikipedia.org/wiki/Wikipedia:CC_BY-SA_3.0%E5%8D%8F%E8%AE%AE%E6%96%87%E6%9C%AC" target="_blank" rel="nofollow noopener noopener">CC BY-SA 3.0协议</a> 。转载请注明出处！</p>
            
          </div>
        </div>
      </div>
    </div>
    <div class="d-none d-lg-block col-lg-2 toc-container">
      
  <div id="toc">
    <p class="h4"><i class="far fa-list-alt"></i>&nbsp;TOC</p>
    <div id="tocbot"></div>
  </div>

    </div>
  </div>
</div>

<!-- custom -->


<!-- Comments -->
<div class="col-lg-7 mx-auto nopadding-md">
  <div class="container comments mx-auto" id="comments">
    
  </div>
</div>

    
  </main>

  
    <a class="z-depth-1" id="scroll-top-button" href="#" role="button">
      <i class="fa fa-chevron-up scroll-top-arrow" aria-hidden="true"></i>
    </a>
  

  
    <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Search</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">keyword</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
  

  <footer class="mt-5">
  <div class="text-center py-3">
    <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><b>Hexo</b></a>
    <i class="iconfont icon-love"></i>
    <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"> <b>Fluid</b></a>
    <br>

    
  
    <!-- 不蒜子统计PV -->
    
    &nbsp;<span id="busuanzi_container_site_pv">总访问量 
          <span id="busuanzi_value_site_pv"></span> 次</span>&nbsp;
  
  
    <!-- 不蒜子统计UV -->
    
    &nbsp;<span id="busuanzi_container_site_uv">总访客数 
            <span id="busuanzi_value_site_uv"></span> 人</span>&nbsp;
  
  <br>



    


    <!-- cnzz Analytics icon -->
    

  </div>
</footer>

<!-- SCRIPTS -->
<script src="/lib/jquery/jquery.min.js" ></script>
<script src="/lib/popper/popper.min.js" ></script>
<script src="/lib/bootstrap/js/bootstrap.min.js" ></script>
<script src="/lib/mdbootstrap/js/mdb.min.js" ></script>
<script src="/js/main.js" ></script>


  <script src="/js/lazyload.js" ></script>



  
    <script src="/lib/tocbot/tocbot.min.js" ></script>
  
  <script src="/js/post.js" ></script>



  <script src="/lib/smooth-scroll/smooth-scroll.min.js" ></script>



  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>


<!-- Plugins -->


  
    <!-- Baidu Analytics -->
    <script>
      var _hmt = _hmt || [];
      (function () {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?e7e697d38c5a814b00fe553d27f81508";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
      })();
    </script>
  

  

  

  

  <!-- cnzz Analytics -->
  



  <script src="/lib/prettify/prettify.min.js" ></script>
  <script>
    $(document).ready(function () {
      $('pre').addClass('prettyprint  linenums');
      prettyPrint();
    })
  </script>



  <script src="/lib/typed/typed.min.js" ></script>
  <script>
    var typed = new Typed('#subtitle', {
      strings: [
        '  ',
        "【歌单推荐】Node.js + Express 搭建后端服务器&nbsp;",
      ],
      cursorChar: "_",
      typeSpeed: 70,
      loop: false,
    });
    typed.stop();
    $(document).ready(function () {
      $(".typed-cursor").addClass("h2");
      typed.start();
    });
  </script>



  <script src="/lib/anchor/anchor.min.js" ></script>
  <script>
    anchors.options = {
      placement: "right",
      visible: "false",
      
    };
    var el = "h1,h2,h3,h4,h5,h6".split(",");
    var res = [];
    for (item of el) {
      res.push(".markdown-body > " + item)
    }
    anchors.add(res.join(", "))
  </script>



  <script src="/js/local-search.js" ></script>
  <script>
    var path = "/local-search.xml";
    var inputArea = document.querySelector("#local-search-input");
    inputArea.onclick = function () {
      getSearchFile(path);
      this.onclick = null
    }
  </script>



  <script src="/lib/fancybox/jquery.fancybox.min.js" ></script>
  <script>
    $("#post img:not(.no-zoom img, img[no-zoom])").each(
      function () {
        var element = document.createElement("a");
        $(element).attr("data-fancybox", "images");
        $(element).attr("href", $(this).attr("src"));
        $(this).wrap(element);
      }
    );
  </script>











</body>
</html>
